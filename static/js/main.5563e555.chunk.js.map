{"version":3,"sources":["components/Login/Login.js","components/Chat/Users/Users.js","components/Chat/Messages/Message/Message.js","components/Chat/Messages/Messages.js","components/Chat/Input/Input.js","components/Chat/Chat.js","App.js","index.js"],"names":["Login","props","useState","name","setName","chatName","setChatName","handleEnter","e","history","push","preventDefault","alert","className","style","textTransform","marginBottom","value","placeholder","type","onChange","newName","target","onKeyPress","key","newChatName","to","onClick","Users","users","map","user","src","alt","id","Message","message","isCurrentUser","text","Messages","messages","index","Input","setMessage","sendMessage","socket","Chat","state","setState","currentUsers","setCurrentUsers","setMessages","url","useEffect","data","match","params","io","reconnectionAttempts","timeout","transports","emit","error","disconnect","off","on","msg","prevMsg","event","App","path","exact","component","ReactDOM","render","basename","process","document","getElementById"],"mappings":"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","file":"static/js/main.5563e555.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"./Login.css\";\nexport default function Login(props) {\n    const [name, setName] = useState(\"\");\n    const [chatName, setChatName] = useState(\"\");\n    const handleNameChange = (e) => {\n        const newName = e.target.value;\n        setName(newName);\n    };\n    const handleChatNameChange = (e) => {\n        const newChatName = e.target.value;\n        setChatName(newChatName);\n    };\n    const onLinkCLick = (e) => {\n        if (!name || !chatName) {\n            e.preventDefault();\n        }\n    };\n    const handleEnter = (e) => {\n        if (!name || !chatName) {\n            e.preventDefault();\n            alert(\"Please enter a username and a chat room name\");\n        } else {\n            props.history.push(`/chat/${name}/${chatName}`);\n        }\n    };\n\n    return (\n        <div className=\"login-container\">\n            <div className=\"inner-container\">\n                <h1\n                    style={{ textTransform: \"uppercase\", marginBottom: \"10px\" }}\n                >\n                    Welcome\n                </h1>\n                <input\n                    value={name}\n                    placeholder=\"User Name\"\n                    type=\"text\"\n                    onChange={handleNameChange}\n                    className=\"login-input\"\n                    onKeyPress={(e) =>\n                        e.key === \"Enter\" ? handleEnter(e) : null\n                    }\n                />\n\n                <input\n                    value={chatName}\n                    placeholder=\"Chat Room Name\"\n                    type=\"text\"\n                    onChange={handleChatNameChange}\n                    className=\"login-input\"\n                    onKeyPress={(e) =>\n                        e.key === \"Enter\" ? handleEnter(e) : null\n                    }\n                />\n\n                <div className=\"button-container\">\n                    <Link\n                        to={`/chat/${name}/${chatName}`}\n                        onClick={onLinkCLick}\n                    >\n                        <button className=\"login-button\">Login</button>\n                    </Link>\n                </div>\n            </div>\n        </div>\n    );\n}\n","import React from \"react\";\nimport \"./Users.css\";\nexport default function Users(props) {\n  const { users } = props;\n\n  return (\n    <div className=\"users\">\n      <h2>Currently Online</h2>\n      {users ? (\n        <div>\n          {users.map((user) => {\n            return (\n              <div key={user.id} className='user'>\n                <img\n                  src=\"https://miro.medium.com/max/1024/1*nZ9VwHTLxAfNCuCjYAkajg.png\"\n                  alt=\"online\"\n\t\t\t\t  className='dot'\n                />\n                <p>{user.name}</p>\n              </div>\n            );\n          })}\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","import React from \"react\";\nimport \"./Message.css\";\nexport default function Message(props) {\n\tconst { message, name } = props;\n\tlet isCurrentUser = false;\n\tif (message.user === name) {\n\t\tisCurrentUser = true;\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<p className={`name-display ${isCurrentUser ? \"current-name\" : \"\"}`}>\n\t\t\t\t{message.user}\n\t\t\t</p>\n\t\t\t<div className={`text-box ${isCurrentUser ? \"flex-end\" : \"\"}`}>\n\t\t\t\t<div className={`chat-text ${isCurrentUser ? \"by-current\" : \"\"}`}>\n\t\t\t\t\t<p className=\"message-text\">{message.text}</p>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport Message from \"./Message/Message\";\nimport ScrollToBottom from \"react-scroll-to-bottom\";\nimport \"./Messages.css\";\nexport default function Messages(props) {\n    const { messages, name } = props;\n\n    return (\n        <ScrollToBottom className=\"messages\">\n            {messages.map((message, index) => {\n                return (\n                    <div className=\"msg-box\" key={index}>\n                        <Message message={message} name={name} />\n                    </div>\n                );\n            })}\n        </ScrollToBottom>\n    );\n}\n","import React from \"react\";\nimport \"./Input.css\";\n\nexport default function Input(props) {\n    let { message, setMessage, sendMessage } = props;\n\n    return (\n        <div className=\"chat-input\">\n            <input\n                className=\"input\"\n                value={message}\n                onChange={(e) => setMessage(e.target.value)}\n                onKeyPress={(e) => (e.key === \"Enter\" ? sendMessage(e) : null)}\n            />\n\n            <button className=\"text-button\" onClick={sendMessage}>\n                Send\n            </button>\n        </div>\n    );\n}\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Users from \"./Users/Users\";\nimport Messages from \"./Messages/Messages\";\nimport Input from \"./Input/Input\";\nimport io from \"socket.io-client\";\nimport \"./Chat.css\";\n\nlet socket;\nexport default function Chat(props) {\n    const [state, setState] = useState({ name: \"\", chatName: \"\" });\n    const [currentUsers, setCurrentUsers] = useState(\"\");\n    const [message, setMessage] = useState(\"\");\n    const [messages, setMessages] = useState([]);\n\n    const url = \"https://react-web-chatapps.herokuapp.com/\";\n    useEffect(() => {\n        const data = props.match.params;\n        const connectionOptions = {\n            \"force new connection\": true,\n            reconnectionAttempts: \"Infinity\",\n            timeout: 10000,\n            transports: [\"websocket\"],\n        };\n\n        socket = io(url, connectionOptions);\n        setState(data);\n        socket.emit(\"join_chat\", data, (error) => {\n            if (error) {\n                alert(error);\n            }\n        });\n        return () => {\n            socket.disconnect();\n            socket.off();\n        };\n    }, [url, props.match.params]);\n\n    useEffect(() => {\n        socket.on(\"message\", (msg) => {\n            setMessages((prevMsg) => {\n                return [...prevMsg, msg];\n            });\n        });\n        socket.on(\"send_users\", (users) => {\n            setCurrentUsers(users);\n        });\n    }, []);\n\n    function sendMessage(event) {\n        event.preventDefault();\n        if (message) {\n            socket.emit(\"send_message\", message, () => {\n                setMessage(\"\"); //clear input after send\n            });\n        }\n    }\n\n    return (\n        <div className=\"main-container\">\n            <div className=\"container\">\n                <div className=\"room-info\">\n                    <h4 className=\"room-name\">Room:{state.chatName}</h4>\n\n                    <Link to={\"/\"} className=\"exit-room\">\n                        x\n                    </Link>\n                </div>\n                <div className=\"chat\">\n                    <Users users={currentUsers} />\n                    <div className=\"chat-box\">\n                        <Messages messages={messages} name={state.name} />\n                        <Input\n                            message={message}\n                            setMessage={setMessage}\n                            sendMessage={sendMessage}\n                        />\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n","import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport Login from \"./components/Login/Login\";\nimport Chat from \"./components/Chat/Chat\";\nimport \"./App.css\";\nexport default function App() {\n\treturn (\n\t\t<div>\n\t\t\t<Route path=\"/\" exact component={Login} />\n\t\t\t<Route path=\"/chat/:name/:chatName\" component={Chat} />\n\t\t</div>\n\t);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport { BrowserRouter } from \"react-router-dom\";\nReactDOM.render(\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <App />\n    </BrowserRouter>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}