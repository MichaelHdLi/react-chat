(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,n){},103:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},136:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(63),s=n.n(a),r=n(2),i=n(14),o=n(15),u=(n(73),n(1));function j(e){var t=Object(c.useState)(""),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),j=Object(i.a)(r,2),l=j[0],m=j[1],b=function(t){a&&l?e.history.push("/chat/".concat(a,"/").concat(l)):(t.preventDefault(),alert("Please enter a username and a chat room name"))};return Object(u.jsx)("div",{className:"login-container",children:Object(u.jsxs)("div",{className:"inner-container",children:[Object(u.jsx)("h1",{style:{textTransform:"uppercase",marginBottom:"10px"},children:"Welcome"}),Object(u.jsx)("input",{value:a,placeholder:"User Name",type:"text",onChange:function(e){var t=e.target.value;s(t)},className:"login-input",onKeyPress:function(e){return"Enter"===e.key?b(e):null}}),Object(u.jsx)("input",{value:l,placeholder:"Chat Room Name",type:"text",onChange:function(e){var t=e.target.value;m(t)},className:"login-input",onKeyPress:function(e){return"Enter"===e.key?b(e):null}}),Object(u.jsx)("div",{className:"button-container",children:Object(u.jsx)(o.b,{to:"/chat/".concat(a,"/").concat(l),onClick:function(e){a&&l||e.preventDefault()},children:Object(u.jsx)("button",{className:"login-button",children:"Login"})})})]})})}var l=n(68);n(79);function m(e){var t=e.users;return Object(u.jsxs)("div",{className:"users",children:[Object(u.jsx)("h2",{children:"Currently Online"}),t?Object(u.jsx)("div",{children:t.map((function(e){return Object(u.jsxs)("div",{className:"user",children:[Object(u.jsx)("img",{src:"https://miro.medium.com/max/1024/1*nZ9VwHTLxAfNCuCjYAkajg.png",alt:"online",className:"dot"}),Object(u.jsx)("p",{children:e.name})]},e.id)}))}):null]})}n(80);function b(e){var t=e.message,n=e.name,c=!1;return t.user===n&&(c=!0),Object(u.jsxs)("div",{children:[Object(u.jsx)("p",{className:"name-display ".concat(c?"current-name":""),children:t.user}),Object(u.jsx)("div",{className:"text-box ".concat(c?"flex-end":""),children:Object(u.jsx)("div",{className:"chat-text ".concat(c?"by-current":""),children:Object(u.jsx)("p",{className:"message-text",children:t.text})})})]})}var h=n(66),d=n.n(h);n(102);function x(e){var t=e.messages,n=e.name;return Object(u.jsx)(d.a,{className:"messages",children:t.map((function(e,t){return Object(u.jsx)("div",{className:"msg-box",children:Object(u.jsx)(b,{message:e,name:n})},t)}))})}n(103);function O(e){var t=e.message,n=e.setMessage,c=e.sendMessage;return Object(u.jsxs)("div",{className:"chat-input",children:[Object(u.jsx)("input",{className:"input",value:t,onChange:function(e){return n(e.target.value)},onKeyPress:function(e){return"Enter"===e.key?c(e):null}}),Object(u.jsx)("button",{className:"text-button",onClick:c,children:"Send"})]})}var f,p=n(67),v=n.n(p);n(133);function g(e){var t=Object(c.useState)({name:"",chatName:""}),n=Object(i.a)(t,2),a=n[0],s=n[1],r=Object(c.useState)(""),j=Object(i.a)(r,2),b=j[0],h=j[1],d=Object(c.useState)(""),p=Object(i.a)(d,2),g=p[0],N=p[1],y=Object(c.useState)([]),k=Object(i.a)(y,2),C=k[0],S=k[1],w="https://react-web-chatapps.herokuapp.com/";return Object(c.useEffect)((function(){var t=e.match.params;return f=v()(w,{"force new connection":!0,reconnectionAttempts:"Infinity",timeout:1e4,transports:["websocket"]}),s(t),f.emit("join_chat",t,(function(e){e&&alert(e)})),function(){f.disconnect(),f.off()}}),[w,e.match.params]),Object(c.useEffect)((function(){f.on("message",(function(e){S((function(t){return[].concat(Object(l.a)(t),[e])}))})),f.on("send_users",(function(e){h(e)}))}),[]),Object(u.jsx)("div",{className:"main-container",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsxs)("div",{className:"room-info",children:[Object(u.jsxs)("h4",{className:"room-name",children:["Room:",a.chatName]}),Object(u.jsx)(o.b,{to:"/",className:"exit-room",children:"x"})]}),Object(u.jsxs)("div",{className:"chat",children:[Object(u.jsx)(m,{users:b}),Object(u.jsxs)("div",{className:"chat-box",children:[Object(u.jsx)(x,{messages:C,name:a.name}),Object(u.jsx)(O,{message:g,setMessage:N,sendMessage:function(e){e.preventDefault(),g&&f.emit("send_message",g,(function(){N("")}))}})]})]})]})})}n(134);function N(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(r.a,{path:"/",exact:!0,component:j}),Object(u.jsx)(r.a,{path:"/chat/:name/:chatName",component:g})]})}s.a.render(Object(u.jsx)(o.a,{basename:"/react-chat",children:Object(u.jsx)(N,{})}),document.getElementById("root"))},73:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){}},[[136,1,2]]]);
//# sourceMappingURL=main.5563e555.chunk.js.map